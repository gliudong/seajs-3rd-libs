define("ucloud/cache/1.0.0/cache",[],function(t,e){var n=function(t,e){t.support={},t.support.localStorage=!1;var n=function(t,r,i){var c=r||"",o=c.split("."),h=t||{},s=o.shift();return i?(s?(h[s]===e&&(h[s]={}),h[s]=o.length?n(h[s],o.join("."),i):i):h=i,h):(s?s in h&&(i=o.length?n(h[s],o.join(".")):h[s]):i=h,i)},r=[],i=t.CacheProvider=function(e){this.name=e||"CacheProvider",this.cache=t.support.localStorage&&JSON.parse(localStorage.getItem(this.name))||{}};return i.constructor=t.CacheProvider,i.prototype={get:function(t){return n(this.cache,t)},read:function(t){return this.get(t)},set:function(t,e){return n(this.cache,t,e),this.sync()},write:function(t,e){return this.set(t,e)},remove:function(t){if(t){var e=t.split("."),r=e.pop(),i=n(this.cache,e.join("."));i&&r in i&&i[r]&&delete i[r]}else this.cache={};return this.sync()},"delete":function(t){return this.remove(t)},clear:function(){return this.remove()},check:function(t){var r=t.split("."),i=r.pop(),c=n(this.cache,r.join("."));return c&&i in c&&c[i]!==e},sync:function(){t.support.localStorage&&localStorage.setItem(this.name,JSON.stringify(this.cache));for(var e=0;r.length>e;e++)r[e].call(this,this.cache);return this},bind:function(t){return"function"!=typeof t&&(t=function(){return t}),r.push(t),this}},new i}(window);return e=n});
